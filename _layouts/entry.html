---
layout: default
---

<div id="entry" class="entry">

  <!-- header -->
  
  <header class="entry__header">
    <label class="btn">
      <input id="entry-head-checkbox" type="checkbox">
      <span class="btn--brown" title="Toggle Header">
        {{ site.data.emoji.breadcrumbs }}
      </span>
    </label>
    <div class="entry__header--fix-hrz-scroll hp-header">
      <nav id="entry-head-nav" class="breadcrumb" role="navigation" aria-label="entry's ancestry">
        <ol>
          {% for ancestor in page.ancestors %}
            {% assign ancestor_doc = site.entries | where: "url", ancestor | first %}
            {% if ancestor_doc %}
              <li>
                <span title="Ancestor Entry">{% include img/bullet-ancestor.svg %}</span>
                {% include btn_state.html states=ancestor_doc.status %}
                <a class="wiki-link" href="{{ ancestor_doc.url | relative_url }}">
                  {{ ancestor_doc.title }}
                </a>
              </li>
            {% else %}
              <li>
                <span title="Ancestor Entry">{% include img/bullet-ancestor.svg %}</span>
                <span class="small-descr small-descr--no-point">{{ site.data.emoji.missing }} {{ ancestor | split: "." | last }}</span>
              </li>
            {% endif %}
          {% endfor %}
          <li>
            <span title="Ancestor Entry">{% include img/bullet-ancestor.svg %}</span>
            {% include btn_state.html states=page.status %}
            <span>{{ page.title }}</span>
          </li>
        </ol>
      </nav>
    </div>
  </header>
  
  <div class="entry__title hp-title">
    <h1>{{ page.title }}</h1>
    <div>
      {% include btn_state.html states=page.status %}
      <span class="last-updated">Last Tended: {{ page.updated | date: site.bonsai.date_format }}</span>
    </div>
  </div>

  <div class="entry__infobox">
    <div class="infobox">
      {% if page.path == site.bonsai.entries.root_path %}
        <img id="root-logo" class="infobox__img">
      {% endif %}
      <div class="infobox__bar">
        <label class="btn">
          <input id="entry-head-links-checkbox" type="checkbox">
          <span class="btn--brown" title="Toggle Linked Entries">
            {{ site.data.emoji.entries }}
          </span>
        </label>
        {% if site.social.enabled %}
          {% include share.html %}
        {% endif %}
      </div>
      <div class="infobox__link-nav">
        <nav id="attr-box-link-nav" class="link-map">
          <span title="Attribute Entry">{% include img/bullet-net-web.svg %}</span>
          {% assign attributes = page.attributes | doc_type: "entries" %}
          {% if attributes.size == 0 %}
            <p class="small-descr small-descr--center">No attribute entries.</p>
          {% else %}
            <table>
              <tbody>
                  {% for attr in attributes %}
                    <tr>
                      <th rowspan="{{ attr.urls | size }}" scope="rowgroup">{{ attr.type | capitalize }}</th>
                      {% for doc_url in attr.urls %}
                        {% assign attr_doc = site.entries | where: "url", doc_url | first %}
                        <td>
                          {% include btn_state.html states=attr_doc.status %}
                          <a class="wiki-link" href="{{ attr_doc.url | relative_url }}">{{ attr_doc.title }}</a>
                        </td>
                    </tr>
                      {% endfor %}
                  {% endfor %}
              </tbody>
            </table>
          {% endif %}
        </nav>
      </div>
    </div>
  </div>

  <div class="entry__body markdown hp-content">
    {{ content }}
  </div>
    
  <footer class="entry__footer">
    <!-- linked entries -->
    <div class="entry__section-wrapper">
      <label class="btn">
        <input id="entry-foot-links-checkbox" type="checkbox">
        <span class="btn--brown" title="Toggle Linked Entries">
          {{ site.data.emoji.entries }}
        </span>
      </label>
      <nav id="entry-foot-links-nav" class="link-box" role="navigation" aria-label="linked entries">
        <div class="link-box__partition">
          <span class="link-box__type" title="Child Entry">
            {% include img/bullet-tree.svg %}
          </span>
          {% if page.children.size == 0 %}
            <p class="small-descr small-descr--center">No child entries.</p>
          {% else %}
            <ul>
              {% for child in page.children %}
                {% assign child_doc = site.entries | where: "url", child | first %}
                {% if child_doc %}
                  <li>
                    {% include btn_state.html states=child_doc.status %}
                    <a class="wiki-link {% if child_doc.url == '' %}small-descr small-descr--no-point{% endif %}" href="{{ child_doc.url | relative_url }}">
                      {{ child_doc.title }}
                    </a>
                  </li>
                {% else %}
                  <li>
                    <span class="small-descr small-descr--no-point">{{ site.data.emoji.missing }} {{ child | split: "." | last }}</span>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          {% endif %}
        </div>
        <div class="link-box__partition">
          <span class="link-box__type" title="Attributed Entry">
            {% include img/bullet-net-web.svg %}
          </span>
          {% if page.attributed.size == 0 %}
            <p class="small-descr small-descr--center">No attributed entries.</p>
          {% else %}
            <ul>
              {% for attr in page.attributed %}
                {% for attr_url in attr.urls %}
                  {% assign attr_doc = site.entries | where: "url", attr_url | first %}
                  {% if attr_doc %}
                    <li>
                      {% include btn_state.html states=attr_doc.status %}
                      <a class="wiki-link {% if attr_doc.url == '' %}small-descr small-descr--no-point{% endif %}" href="{{ attr_doc.url | relative_url }}">
                        {{ attr_doc.title }}
                      </a>
                    </li>
                  {% else %}
                    <li>
                      <span class="small-descr small-descr--no-point">{{ site.data.emoji.missing }} {{ child | split: "." | last }}</span>
                    </li>
                  {% endif %}
                {% endfor %}
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      </nav>
    </div>
    <!-- linked posts -->
    <div class="entry__section-wrapper">
      <label class="btn">
        <input id="entry-foot-posts-checkbox" type="checkbox">
        <span class="btn--purple" title="Toggle Linked Posts">
          {{ site.data.emoji.posts }}
        </span>
      </label>
      <nav id="entry-foot-posts-nav" class="link-box" role="navigation" aria-label="linked posts">      
        <div class="link-box__partition">
          <!-- capture linked_post here -->
          {% capture linked_posts %}
            {% assign num_linked_posts = 0 %}
            <ul>
              {% for post in site.posts %}
                {% if post.tags contains page.namespace %}
                  {% assign num_linked_posts = num_linked_posts | plus: 1 %}
                  <li>
                    {% include btn_state.html states=post.status %}
                    <a class="wiki-link" href="{{ post.url | relative_url }}">{{ post.title }}</a>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          {% endcapture %}
          <!-- render linked_posts here (the if statement is why we have to do this) -->
          {% if num_linked_posts == 0 %}
            <p class="small-descr">No linked posts.</p>
          {% else %}
            {{ linked_posts }}
          {% endif %}
        </div>
      </nav>
    </div>  
  </footer>

</div>
