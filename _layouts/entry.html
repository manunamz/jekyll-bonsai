---
layout: default
---

<div id="entry">

  <!-- breadcrumb ancestry path -->
  <header id="entry-header">
    <div class="entry-head-wrapper">
      <div>
        <label class="btn-selector">
          <input id="entry-head-checkbox" type="checkbox">
          <span class="btn-selector--brown" title="Toggle Header">
            {{ site.data.emoji.breadcrumbs }}
          </span>
        </label>
      </div>
      <nav id="entry-head-nav" class="entry-head-nav" role="navigation" aria-label="breadcrumb">
        <ol class="entry-head-breadcrumbs">
          {% for ancestor in page.ancestors %}
            {% assign ancestor_doc = site.entries | where: "url", ancestor | first %}
            {% if ancestor_doc %}
              <li class="entry-head-breadcrumb">
                <span title="Ancestor Entry">{% include img/bullet-ancestor.svg %}</span>
                {% for stat_tag in ancestor_doc.status %}
                  {% assign state = site.states | find_exp: "item", "item.emoji == stat_tag" %}
                  <a class="stat-tag" href="{{ state.url | relative_url }}">{{ state.emoji }}</a>
                {% endfor %}
                <a class="wiki-link" href="{{ ancestor_doc.url | relative_url }}">
                  {{ ancestor_doc.title }}
                </a>
              </li>
            {% else %}
              <li class="entry-head-breadcrumb">
                <span title="Ancestor Entry">{% include img/bullet-ancestor.svg %}</span>
                <span class="missing-entry-txt">{{ site.data.emoji.missing }} {{ ancestor | split: "." | last }}</span>
              </li>
            {% endif %}
          {% endfor %}
          <li class="entry-head-breadcrumb">
            <span title="Ancestor Entry">{% include img/bullet-ancestor.svg %}</span>
            {% for stat_tag in page.status %}
              {% assign state = site.states | find_exp: "item", "item.emoji == stat_tag" %}
              <a class="stat-tag" href="{{ state.url | relative_url }}">{{ state.emoji }}</a>
            {% endfor %}
            <span>{{ page.title }}</span>
          </li>
        </ol>
      </nav>
    </div>
  </header>

  <div class="entry-body">

    <h1>{{ page.title }}</h1>

    <div class="doc-status">
      {% for stat_tag in page.status %}
        {% assign state = site.states | find_exp: "item", "item.emoji == stat_tag" %}
        <a class="stat-tag" href="{{ state.url | relative_url }}">{{ state.emoji }}</a>
      {% endfor %}
      <span class="last-updated">Last Tended: {{ page.updated | date: site.bonsai.date_format }}</span>
      {% include local-nav.html type="entry" %}
    </div>
    
    {{ content }}
    
  </div>

  <footer class="entry-footer">
    <!-- linked entries -->
    <div class="entry-foot-wrapper">
      <div>
        <label class="btn-selector">
          <input id="entry-foot-links-checkbox" type="checkbox">
          <span id="entry-foot-link-emoji-span" title="Toggle Linked Entries">
            {{ site.data.emoji.entries }}
          </span>
        </label>
      </div>
      <nav id="entry-foot-links-nav" class="entry-foot-nav" role="navigation" aria-label="">
        <div class="entry-foot-nav-section">
          <span class="entry-foot-link-type" title="Child Entry">
            {% include img/bullet-tree.svg %}
          </span>
          {% if page.children.size == 0 %}
            <p class="small-descr entry-foot-nav-child-none">No child entries.</p>
          {% else %}
            <ul class="entry-foot-nav-list">
              {% for child in page.children %}
                {% assign child_doc = site.entries | where: "url", child | first %}
                {% if child_doc %}
                  <li class="entry-foot-nav-list-item">
                    {% for stat_tag in child_doc.status %}
                      {% assign state = site.states | find_exp: "item", "item.emoji == stat_tag" %}
                      <a class="stat-tag" href="{{ state.url | relative_url }}">{{ state.emoji }}</a>
                    {% endfor %}
                    <a class="wiki-link {% if child_doc.url == '' %}missing-entry-txt{% endif %}" href="{{ child_doc.url | relative_url }}">
                      {{ child_doc.title }}
                    </a>
                  </li>
                {% else %}
                  <li class="entry-foot-nav-list-item">
                    <span class="missing-entry-txt">{{ site.data.emoji.missing }} {{ child | split: "." | last }}</span>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          {% endif %}
        </div>
        <div class="entry-foot-nav-section">
          <span class="entry-foot-link-type" title="Attributed Entry">
            {% include img/bullet-net-web.svg %}
          </span>
          {% if page.attributed.size == 0 %}
            <p class="small-descr entry-foot-nav-child-none">No attributed entries.</p>
          {% else %}
            <ul class="entry-foot-nav-list">
              {% for attr in page.attributed %}
                {% for attr_url in attr.urls %}
                  {% assign attr_doc = site.entries | where: "url", attr_url | first %}
                  {% if attr_doc %}
                    <li class="entry-foot-nav-list-item">
                      {% for stat_tag in attr_doc.status %}
                        {% assign state = site.states | find_exp: "item", "item.emoji == stat_tag" %}
                        <a class="stat-tag" href="{{ state.url | relative_url }}">{{ state.emoji }}</a>
                      {% endfor %}
                      <a class="wiki-link {% if attr_doc.url == '' %}missing-entry-txt{% endif %}" href="{{ attr_doc.url | relative_url }}">
                        {{ attr_doc.title }}
                      </a>
                    </li>
                  {% else %}
                    <li class="entry-foot-nav-list-item">
                      <span class="missing-entry-txt">{{ site.data.emoji.missing }} {{ child | split: "." | last }}</span>
                    </li>
                  {% endif %}
                {% endfor %}
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      </nav>
    </div>
    <!-- linked posts -->
    <div class="entry-foot-wrapper">
      <div>
        <label class="btn-selector">
          <input id="entry-foot-posts-checkbox" type="checkbox">
          <span id="entry-foot-posts-emoji-span" title="Toggle Linked Posts">
            {{ site.data.emoji.posts }}
          </span>
        </label>
      </div>
      <nav id="entry-foot-posts-nav" class="entry-foot-nav" role="navigation" aria-label="">      
        <div class="entry-foot-nav-section">
          <!-- capture linked_post here -->
          {% capture linked_posts %}
            {% assign num_linked_posts = 0 %}
            <ul class="entry-foot-nav-list">
              {% for post in site.posts %}
                {% if post.tags contains page.namespace %}
                  {% assign num_linked_posts = num_linked_posts | plus: 1 %}
                  <li class="entry-foot-nav-list-item">
                    {% for stat_tag in post.status %}
                      {% assign state = site.states | find_exp: "item", "item.emoji == stat_tag" %}
                      <a class="stat-tag" href="{{ state.url | relative_url }}">{{ state.emoji }}</a>
                    {% endfor %}
                    <a class="wiki-link" href="{{ post.url | relative_url }}">{{ post.title }}</a>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          {% endcapture %}
          <!-- render linked_posts here (the if statement is why we have to do this) -->
          {% if num_linked_posts == 0 %}
            <p class="small-descr">No linked posts.</p>
          {% else %}
            {{ linked_posts }}
          {% endif %}
        </div>
      </nav>
    </div>  
  </footer>

</div>
