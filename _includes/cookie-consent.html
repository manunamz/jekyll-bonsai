<!-- from: https://jekyllcodex.org/without-plugin/cookie-consent/ -->
<!-- duplicate code with cookie-consent-response.html -->
<div id="cookie-consent">
  <span>We would like to use third party cookies and scripts to improve the functionality of this website.</span>
  <a id="cookie-consent-response-accept" class="site-nav-btn" title="Alright!">{{ site.emoji.approve }}</a>
  <a class="site-nav-btn" href="{{ '/privacy' | relative_url }}" title="Hmm...Tell me more...">{{ site.emoji.consider }}</a>
</div>
<script>
  function createCookie(name,value,days) {
    var expires = "";
    if (days) {
      var date = new Date();
      date.setTime(date.getTime() + (days*24*60*60*1000));
      expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + value + expires + "; path=/";
  }
  function readCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
      var c = ca[i];
      while (c.charAt(0)==' ') c = c.substring(1,c.length);
      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
  }
  function eraseCookie(name) {
    createCookie(name,"",-1);
  }
  function clearCookies() {
    var cookies = document.cookie.split(";");
    for (var i = 0; i < cookies.length; i++) {
      eraseCookie(cookies[i].split("=")[0]);
    }
  }

  if (readCookie('cookie-consent-accepted')==='true') {
    {% include metrics.js %}
  } else if (readCookie('cookie-consent-declined')==='true') {
    /* do nothing (use multi-line comment because compression causes single line to comment out entire file) */
  } else {
    document.getElementById('cookie-consent').style.display = 'block';
  }
  document.getElementById('cookie-consent-response-accept').addEventListener("click",function() {
    clearCookies();
    createCookie('cookie-consent-accepted','true',31);
    document.getElementById('cookie-consent').style.display = 'none';
    location.reload();
  });
</script>